import{p as v,t as yt,l as L,g as j,v as z,x as W,y as P,z as G,o as I,c as D,F as vt,q as bt,a as x,A as U,B as V,C as Y,D as wt,E as pt}from"./vendor.bccda1e6.js";import{_ as k}from"./index.c1ce341f.js";var Xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABNBJREFUaEPtmV1oXEUUx//n3g1JRGqL9k1RsFq/6IMgSky8c2YTQyONiojWYumTQrWKSNH6oO1TS1EQFcTiQwsaK4qIbVdod+/M3Y0IteJDwVr1oVYFEfFFwUY2c2TCbrhZNptNduvuQgf2Ze85M+c359w5Z84l9PigHrcflwCqHrTWsoiUmLn8f3q1bR4wxggRlZxz00EQlCowf19smLYAxHF8NxFNA/gUgAKwGsApD5GC+eNiwLQL4GUi2gNgDIA31ENEKZhzIvK5h5mZmZkeHx//uV0wbQEwxpQADDPzgvny+fyNYRhO1MB42w9674RhWIqi6IdWYFoGMMbcBuA0ER1RSk3GcbyViB4HcBTAMWb+0RtYKpXWlMvlSSKaFBFdCTP/yIrIRxWY08uFaQfAswAeAPAaMx81xhwmojVpQ0TkSxH5QGt9tvp/kiQTzrlJAOsroeYfnXPOHQrD8JhS6qtmYFoGaGaRRjKFQuF6IhononsB+N9gSv4ggENKqYSIpN48cwCFQmF3EARPt2rMcvWZ+ao4ju/TWh+r6hpjRkVkYwXIh+d8qvEw/f39Hw4NDf1T/TMN8AqA/HKNWKk8EWmlVFjZvG0iUiSiIjO/W52zWCyuLZfLm4hoE4DxlHfmQi2bze6uBbih+tKt1LBm9Ky17wN4NAXgN29uiMi/HsS/2FrrA+n5isXi7bOzsx5mdyaTWT8yMvJ9XQC/K80YshIZv2uNAOrM+bWIHKjCWGuPi8g9zDzgZesC+LJgJcYtpeOc27MCAD/taWbeYIy5i4gKzjnvnW29BLCLmfcZY54H8GoQBONRFB3vGYByuXzt2NjYeWPMJwAeTGf8rg8hIvpTKXVlHMe3AogBnNFa+1prbnQ9gIi8rbXeHsfxE0T0DhE9qZSaP526HgDACDNPW2sPicjWvr6+VcPDw3/1jAd8vJ84ceKKTCbjj1NordelT7tu98BRZt5krd0sIlNEtFcp9VLPAIjIFq31lDHmLQBPBUGwIYqiBSV3xz1gjPFlRN3MXz0ujTHf+LKbmS+rTZZdC0BEJ5VSdxYKBR0EQYGIppRSW3oGAEA1++4F8KK/ySmljvQMQDX7Wmt9ZeqP0rqXr24NoZ+Y+TpjzDoiOuvvCszM9YrFbgV4nZmfi+N4JxHtJ6JnlFJv9hLAXPY1xuQAbASwlpnrNsY67oHKlXL+RgbgAjMP5nK5/oGBgd+DIPhNKeU7F3VHxwFq80Cl/fKYMeYRAIdFZL/W+oWeAQDwMDN/7PtLADzEHcx8qmcAUtn3FxFZrbW+vNFVteMhFMexj+/7faKqxP9okiRDzrkvALzHzL5NuejoOEDasiRJJqMo+sxau19EdgZB8FAURf4auTyARgrteJZuq9SbzxhzBsBNi2XfJcvpdhjZaI5GAEmSXOOcO09EsVIqu5QtHe/M1Rpord0hIm8A2MHM/h7QcHQjQMF/P3DOXZ3NZn/teoBKJr4AYLpSPviu4HfMfPNSxvvnCzzgnNvejFKrMmEYDi/S3LWVjx37mHlXM+vUhlAzOm2RISLnu9N+slwut2pwcHCCiCZExH+5mchmsyebWWgOwBgz3+lqRqldMszsd3zByOfzt4yOjn7b7Bod/8TUrKGLyV0CaHUHW9X/D9N93V6azvezAAAAAElFTkSuQmCC",qt="data:image/png;base64,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";const Et=({breakpoints:t,wrapperWidth:e,gutter:n,hasAroundGutter:o,initWidth:r})=>{const i=Object.keys(t).map(A=>Number(A)).sort((A,h)=>A-h);let a=e,s=!1;for(const A of i)if(e<=A){a=A,s=!0;break}if(!s)return r;let l=0;const m=t[a].rowPerView;return o?l=(e-n)/m-n:l=(e-(m-1)*n)/m,Math.floor(l)};function Q(t){const e=v(0),n=v(null);yt(n,a=>{const s=a[0],{width:l}=s.contentRect;e.value=l});const o=L(()=>Et({wrapperWidth:e.value,breakpoints:t.breakpoints,gutter:t.gutter,hasAroundGutter:t.hasAroundGutter,initWidth:t.width})),r=L(()=>{const a=t.hasAroundGutter?-t.gutter:t.gutter,s=(e.value+a)/(o.value+t.gutter);return Math.floor(s)}),i=L(()=>{if(t.align==="left")return 0;if(t.align==="center"){const a=t.hasAroundGutter?t.gutter:-t.gutter,s=r.value*(o.value+t.gutter)+a;return(e.value-s)/2}else{const a=t.hasAroundGutter?t.gutter:-t.gutter,s=r.value*(o.value+t.gutter)+a;return e.value-s}});return{waterfallWrapper:n,wrapperWidth:e,colWidth:o,cols:r,offsetX:i}}function H(t,e){return new RegExp(`(^|\\s)${e}(\\s|$)`).test(t.className)}function N(t,e){if(H(t,e))return;const n=t.className.split(/\s+/);n.push(e),t.className=n.join(" ")}const zt=document.createElement("div").style,T=(()=>{const t={standard:"transform",webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform"};for(const e in t){const n=t[e];if(zt[n]!==void 0)return e}return!1})();function y(t){return T===!1?!1:T==="standard"?t:T+t.charAt(0).toUpperCase()+t.substr(1)}const Z=y("transform"),X=y("animation-duration"),q=y("animation-delay"),J=y("transition"),$=y("animation-fill-mode");function Rt(t,e,n,o,r,i,a){const s=v([]),l=v(0),m=d=>{const c=t.hasAroundGutter?d+1:d;return t.gutter*c+e.value*d+o.value},A=()=>{const d=t.space||t.gutter;s.value=new Array(n.value).fill(t.hasAroundGutter?d:0)},h=d=>{const c=d.firstChild;if(c&&!H(c,t.animationPrefix)){const f=c.style;N(c,t.animationPrefix),N(c,t.animationEffect),X&&(f[X]=`${t.animationDuration/1e3}s`),q&&(f[q]=`${t.animationDelay/1e3}s`),$&&(f[$]="both")}};return{wrapperHeight:l,layoutHandle:async(d=!1)=>{if(!r.value)return!1;A();const c=r.value,f=[];if(c.childNodes.forEach(u=>{var g;(u==null?void 0:u.nodeType)===1&&((g=u.classList)==null?void 0:g.contains("waterfall-item"))&&f.push(u)}),f.length===0)return l.value=0,!1;const _=f.map(u=>u.offsetHeight||u.getBoundingClientRect().height),C=t.posDuration/1e3,b=[];for(let u=0;u<f.length;u++){const g=i?u%n.value:St(s.value,a),w=s.value[g],F=m(g),B=_[u],S=f[u];b.push(()=>{const p=S.style;Z&&(p[Z]=`translate3d(${Math.floor(F)}px,${Math.floor(w)}px,0)`),p.width=`${e.value}px`,p.visibility="visible",!d&&!t.animationCancel&&h(S)});const M=t.space||t.gutter;s.value[g]+=B+M}return l.value=Math.max(...s.value),d?(b.forEach(u=>u()),!0):new Promise(u=>{requestAnimationFrame(()=>{b.forEach(g=>g()),requestAnimationFrame(()=>{for(const g of f){const w=g.style;J&&(w[J]=`transform ${C}s`)}setTimeout(()=>u(!0),t.posDuration)})})})}}}function St(t,e){if(t.length===0)return-1;const n=Math.min(...t),o=n+e;let r=-1;for(let i=0;i<t.length;i++)if(t[i]>=n&&t[i]<=o){r=i;break}return r}const tt=y("transform"),et=y("animation-duration"),nt=y("animation-delay"),rt=y("transition"),ot=y("animation-fill-mode");function Ot(t,e,n,o,r,i,a){const s=v([]),l=v(0),m=d=>{const c=t.hasAroundGutter?d+1:d;return t.gutter*c+e.value*d+o.value},A=()=>{const d=t.space||t.gutter;s.value=new Array(n.value).fill(t.hasAroundGutter?d:0)},h=d=>{const c=d.firstChild;if(c&&!H(c,t.animationPrefix)){const f=c.style;N(c,t.animationPrefix),N(c,t.animationEffect),et&&(f[et]=`${t.animationDuration/1e3}s`),nt&&(f[nt]=`${t.animationDelay/1e3}s`),ot&&(f[ot]="both")}};return{wrapperHeight:l,layoutHandle:async(d=!1)=>{if(!r.value)return!1;A();const c=r.value,f=[];if(c.childNodes.forEach(u=>{var g;(u==null?void 0:u.nodeType)===1&&((g=u.classList)==null?void 0:g.contains("waterfall-item"))&&f.push(u)}),f.length===0)return!1;const _=f.map(u=>u.offsetHeight||u.getBoundingClientRect().height),C=t.posDuration/1e3,b=[];for(let u=0;u<f.length;u++){const g=i?u%n.value:It(s.value,a),w=s.value[g],F=m(g),B=_[u],S=f[u];b.push(()=>{const p=S.style;tt&&(p[tt]=`translate3d(${Math.floor(F)}px,${Math.floor(w)}px,0)`),p.width=`${e.value}px`,p.visibility="visible",!d&&!t.animationCancel&&h(S)});const M=t.space||t.gutter;s.value[g]+=B+M}return l.value=Math.max(...s.value),d?(b.forEach(u=>u()),!0):new Promise(u=>{requestAnimationFrame(()=>{b.forEach(g=>g()),requestAnimationFrame(()=>{for(const g of f){const w=g.style;rt&&(w[rt]=`transform ${C}s`)}setTimeout(()=>u(!0),t.posDuration)})})})}}}function It(t,e){if(t.length===0)return-1;const n=Math.min(...t),o=n+e;let r=-1;for(let i=0;i<t.length;i++)if(t[i]>=n&&t[i]<=o){r=i;break}return r}const Dt=typeof window!="undefined"&&window!==null,it=_t(),Nt=Object.prototype.propertyIsEnumerable,at=Object.getOwnPropertySymbols;function st(t,...e){return e.map(o=>o.replace(/\[(\w+)\]/g,".$1").split(".").reduce((r,i)=>r&&r[i],t))}function _t(){return Dt&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function O(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function Ct(t){return typeof t=="object"?t===null:typeof t!="function"}function Ft(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function Bt(t,...e){if(!O(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof at!="function")return t;for(const n of e){const o=at(n);for(const r of o)Nt.call(n,r)&&(t[r]=n[r])}return t}function ut(t,...e){let n=0;for(Ct(t)&&(t=e[n++]),t||(t={});n<e.length;n++)if(O(e[n])){for(const o of Object.keys(e[n]))Ft(o)&&(O(t[o])&&O(e[n][o])?ut(t[o],e[n][o]):t[o]=e[n][o]);Bt(t,e[n])}return t}function lt(t,e){return new Promise((n,o)=>{const r=new Image;r.onload=()=>{n(r)},r.onerror=()=>{o(new Error("Image load error"))},e&&(r.crossOrigin="Anonymous"),r.src=t})}var R;(function(t){t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"})(R||(R={}));const Mt={rootMargin:"0px",threshold:0},ct="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Lt="";class ft{constructor(e=!0,n,o=!0){this.lazyActive=!0,this.crossOrigin=!0,this.options={loading:ct,error:Lt,observerOptions:Mt,log:!0,ratioCalculator:(r,i)=>i/r},this._images=new WeakMap,this.lazyActive=e,this.crossOrigin=o,this.config(n)}config(e={}){ut(this.options,e),e.ratioCalculator&&(this.options.ratioCalculator=e.ratioCalculator)}mount(e,n,o){const{src:r,loading:i,error:a}=this._valueFormatter(n);e.setAttribute("lazy",R.LOADING),e.setAttribute("src",i||ct),this.lazyActive?(it||(this._setImageSrc(e,r,o,a),this._log(()=>{throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,r,o,a)):this._setImageSrc(e,r,o,a)}resize(e,n){const o=e.getAttribute("lazy"),r=e.getAttribute("src");o&&o===R.LOADED&&r&&lt(r,this.crossOrigin).then(i=>{const{width:a,height:s}=i,l=e.width/a*s;e.height=l;const m=e.style;m.height=`${l}px`,n()})}unmount(e){const n=this._realObserver(e);n&&n.unobserve(e),this._images.delete(e)}_setImageSrc(e,n,o,r){!n||e.getAttribute("src")===n||lt(n,this.crossOrigin).then(a=>{var h,E;const{width:s,height:l}=a,m=((E=(h=this.options).ratioCalculator)==null?void 0:E.call(h,s,l))||l/s,A=e.parentNode.parentNode;A.style.paddingBottom=`${m*100}%`,e.setAttribute("lazy",R.LOADED),e.removeAttribute("src"),e.src=a.src,o(!0)}).catch(()=>{const a=this._realObserver(e);a&&a.disconnect(),r&&(e.setAttribute("lazy",R.ERROR),e.setAttribute("src",r),o(!1)),this._log(()=>{throw new Error(`Image failed to load!And failed src was: ${n} `)})})}_isOpenLazy(){return it&&this.lazyActive}_initIntersectionObserver(e,n,o,r){const i=this.options.observerOptions;this._images.set(e,new IntersectionObserver(s=>{Array.prototype.forEach.call(s,l=>{if(l.isIntersecting){const m=this._realObserver(e);m&&m.unobserve(l.target),this._setImageSrc(e,n,o,r)}})},i));const a=this._realObserver(e);a&&a.observe(e)}_valueFormatter(e){let n=e,o=this.options.loading,r=this.options.error;return O(e)&&(n=e.src,o=e.loading||this.options.loading,r=e.error||this.options.error),{src:n,loading:o,error:r}}_log(e){this.options.log&&e()}_realObserver(e){return this._images.get(e)}}const K=j({props:{list:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},imgSelector:{type:String,default:"src"},width:{type:Number,default:200},breakpoints:{type:Object,default:()=>({1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}})},gutter:{type:Number,default:10},space:{type:Number,default:null},hasAroundGutter:{type:Boolean,default:!0},posDuration:{type:Number,default:300},animationPrefix:{type:String,default:"animate__animated"},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:Number,default:1e3},animationDelay:{type:Number,default:300},animationCancel:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"},lazyload:{type:Boolean,default:!0},loadProps:{type:Object,default:()=>{}},crossOrigin:{type:Boolean,default:!0},delay:{type:Number,default:300},align:{type:String,default:"center"},horizontalOrder:{type:Boolean,default:!1},heightDifference:{type:Number,default:0}},setup(t,e){const n=new ft(t.lazyload,t.loadProps,t.crossOrigin);z("lazy",n);const{waterfallWrapper:o,wrapperWidth:r,colWidth:i,cols:a,offsetX:s}=Q(t),{wrapperHeight:l,layoutHandle:m}=Rt(t,i,a,s,o,t.horizontalOrder,t.heightDifference),A=W(()=>{requestAnimationFrame(()=>{m().then(()=>e.emit("afterRender")),setTimeout(()=>{m()},t.posDuration+50)})},t.delay);P(()=>[r.value,i.value,t.list],()=>{r.value>0&&A()},{deep:!0});const h=v(0);return z("sizeChangeTime",h),z("imgLoaded",A),{colWidth:i,waterfallWrapper:o,wrapperHeight:l,getRenderURL:c=>st(c,t.imgSelector)[0],getKey:(c,f)=>c[t.rowKey]||f,renderer:A}}}),dt=()=>{G(t=>({"4cb83f3f":t.backgroundColor}))},mt=K.setup;K.setup=mt?(t,e)=>(dt(),mt(t,e)):dt;const jt=K,Pt={class:"waterfall-card"};function xt(t,e,n,o,r,i){return I(),D("div",{ref:"waterfallWrapper",class:"waterfall-list",style:V({height:`${t.wrapperHeight}px`})},[(I(!0),D(vt,null,bt(t.list,(a,s)=>(I(),D("div",{key:t.getKey(a,s),class:"waterfall-item"},[x("div",Pt,[U(t.$slots,"default",{item:a,index:s,url:t.getRenderURL(a)},void 0,!0),U(t.$slots,"item",{item:a,index:s,url:t.getRenderURL(a)},void 0,!0)])]))),128))],4)}var Jt=k(jt,[["render",xt],["__scopeId","data-v-64b9633a"]]);const Ht=j({props:{url:{type:String,default:""},title:{type:String,default:""},alt:{type:String,default:""},ratio:{type:Number,default:1}},setup(t,e){const n=Y("imgLoaded"),o=Y("lazy"),r=v(null);wt(()=>{i()}),pt(()=>{a()}),P(()=>t.url,(l,m)=>{i()});function i(){!r.value||o.mount(r.value,t.url,l=>{n(),l?e.emit("success",t.url):e.emit("error",t.url)})}function a(){!r.value||o.unmount(r.value)}function s(){e.emit("load",t.url)}return{lazyRef:r,imageLoad:s}}}),Tt={class:"lazy__resource"},Kt=["title","alt"];function Wt(t,e,n,o,r,i){return I(),D("div",{class:"lazy__box",style:V({paddingBottom:`${t.ratio*100}%`})},[x("div",Tt,[x("img",{ref:"lazyRef",class:"lazy__img",title:t.title,alt:t.alt,onLoad:e[0]||(e[0]=(...a)=>t.imageLoad&&t.imageLoad(...a))},null,40,Kt)])],4)}var $t=k(Ht,[["render",Wt],["__scopeId","data-v-06fbfcdb"]]);const gt=j({props:{list:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},imgSelector:{type:String,default:"src"},width:{type:Number,default:200},breakpoints:{type:Object,default:()=>({1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}})},gutter:{type:Number,default:10},space:{type:Number,default:null},hasAroundGutter:{type:Boolean,default:!0},posDuration:{type:Number,default:300},animationPrefix:{type:String,default:"animate__animated"},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:Number,default:1e3},animationDelay:{type:Number,default:300},animationCancel:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"},lazyload:{type:Boolean,default:!0},loadProps:{type:Object,default:()=>{}},crossOrigin:{type:Boolean,default:!0},delay:{type:Number,default:300},align:{type:String,default:"center"},horizontalOrder:{type:Boolean,default:!1},heightDifference:{type:Number,default:0}},setup(t,e){const n=new ft(t.lazyload,t.loadProps,t.crossOrigin);z("lazy",n);const{waterfallWrapper:o,wrapperWidth:r,colWidth:i,cols:a,offsetX:s}=Q(t),{wrapperHeight:l,layoutHandle:m}=Ot(t,i,a,s,o,t.horizontalOrder,t.heightDifference),A=W(()=>{requestAnimationFrame(()=>{m().then(()=>e.emit("afterRender")),setTimeout(()=>{m()},t.posDuration+50)})},t.delay);P(()=>[r.value,i.value,t.list],()=>{r.value>0&&A()},{deep:!0});const h=v(0);return z("sizeChangeTime",h),z("imgLoaded",A),{colWidth:i,waterfallWrapper:o,wrapperHeight:l,getRenderURL:c=>st(c,t.imgSelector)[0],getKey:(c,f)=>c[t.rowKey]||f,renderer:A}}}),At=()=>{G(t=>({"0b47b336":t.backgroundColor}))},ht=gt.setup;gt.setup=ht?(t,e)=>(At(),ht(t,e)):At;function Gt(t=6){return Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)}const Ut=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"];function Vt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Yt(){return Ut[Vt(0,4)]}const kt="https://wanderprints.com",te=({page:t=1,pageSize:e=20})=>{const n=`${kt}/products.json?page=${t}&limit=${e}`;return fetch(n).then(o=>o.json()).then(o=>o.products).then(o=>o.map(r=>({id:Gt(),star:!1,price:r.variants[0].price,src:{original:Math.random()>.1?r.images[0].src:"https://www.example.com/non-existent-image.jpg"},backgroundColor:Yt(),name:r.title})))};export{$t as L,Jt as W,qt as e,te as g,Xt as l};
