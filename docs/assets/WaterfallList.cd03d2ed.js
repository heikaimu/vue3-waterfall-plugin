import{g as E,p as n,D as N,r as $,G as B,H as p,o as F,c as M,b as c,w as v,a as t,u as m,I as d,J as O,L as V,f as G}from"./vendor.bccda1e6.js";import{g as I,L as R,W}from"./api.2a7313f9.js";const H={style:{"min-height":"100%",width:"100%"}},J=["onClick"],K={class:"overflow-hidden"},P={class:"px-4 pt-2 pb-4 border-t border-t-gray-800"},T={class:"pb-4 text-gray-50 group-hover:text-yellow-300"},q={class:"pt-3 flex justify-between items-center border-t border-t-gray-600 border-opacity-50"},Q={class:"text-gray-50"},U=["onClick"],X={class:"flex justify-center py-10 bg-gray-900"},Y=G(" \u52A0\u8F7D\u66F4\u591A "),oo=E({props:{list:{type:Array},options:{type:Object},pageSize:{type:Number,default:20}},emits:{cardClick:null},setup(o,{emit:y}){const b=o,i=n([]),u=n(1),s=n(!0),r=n(!1);N(()=>{g()});async function g(){r.value=!0;const e=await I({page:u.value,pageSize:b.pageSize});r.value=!1,i.value.push(...e),u.value+=1}function w(e,h){i.value.splice(h,1)}function k(e){y("cardClick",e)}function x(e){}function C(e){console.error(`${e}: \u52A0\u8F7D\u5931\u8D25`)}function z(e){}function D(){s.value=!1}const L=n(null);return(e,h)=>{const S=$("el-button"),A=B("loading");return p((F(),M("div",H,[c(m(W),{ref:(a,l)=>{l.waterfall=a,L.value=a},list:i.value,"row-key":o.options.rowKey,gutter:o.options.gutter,space:o.options.space,"has-around-gutter":o.options.hasAroundGutter,width:o.options.width,breakpoints:o.options.breakpoints,"img-selector":o.options.imgSelector,"background-color":o.options.backgroundColor,"animation-effect":o.options.animationEffect,"animation-duration":o.options.animationDuration,"animation-delay":o.options.animationDelay,"animation-cancel":o.options.animationCancel,lazyload:o.options.lazyload,"load-props":o.options.loadProps,"cross-origin":o.options.crossOrigin,align:o.options.align,"horizontal-order":o.options.horizontalOrder,onAfterRender:D},{default:v(({item:a,url:l,index:f})=>[t("div",{class:"bg-gray-900 rounded-lg shadow-md overflow-hidden transition-all duration-300 ease-linear hover:shadow-lg hover:shadow-gray-600 group",onClick:j=>k(a)},[t("div",K,[c(m(R),{url:l,title:"title",alt:a.name,class:"cursor-pointer transition-all duration-300 ease-linear group-hover:scale-105",onLoad:x,onError:C,onSuccess:z},null,8,["url","alt"])]),t("div",P,[t("h2",T,d(a.name)+" ("+d(f)+") ",1),t("div",q,[t("div",Q," $ "+d(a.price),1),t("div",null,[t("button",{class:"px-3 h-7 rounded-full bg-red-500 text-sm text-white shadow-lg transition-all duration-300 hover:bg-red-600",onClick:O(j=>w(a,f),["stop"])}," \u5220\u9664 ",8,U)])])])],8,J)]),_:1},8,["list","row-key","gutter","space","has-around-gutter","width","breakpoints","img-selector","background-color","animation-effect","animation-duration","animation-delay","animation-cancel","lazyload","load-props","cross-origin","align","horizontal-order"]),p(t("div",X,[c(S,{loading:r.value,class:"px-5 py-2 rounded-full bg-gray-700 text-md text-white cursor-pointer hover:bg-gray-800 transition-all duration-300",onClick:g},{default:v(()=>[Y]),_:1},8,["loading"])],512),[[V,!s.value]])],512)),[[A,s.value]])}}});export{oo as _};
